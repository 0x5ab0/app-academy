<% action = (cat.persisted? ? cat_url(cat) : cats_url) %>
<% method = (cat.persisted? ? :patch : :post) %>

<form action=<%= action %> method="post">
    <input type="hidden" name="_method" value=<%= method %>>
    <br>

    <label for="cat_name">Name</label><br>
    <input
        id="cat_name"
        type="text"
        name="cat[name]"
        value="<%= cat.name %>">
    <br>
    <br>

    <input
        id="cat_sex_male"
        type="radio"
        name="cat[sex]"
        value="M"
        <%= cat.sex == "M" ? "checked" : "" %> >
    <label for="male">Male</label>
    <input
        id="cat_sex_female"
        type="radio"
        name="cat[sex]"
        value="F"
        <%= cat.sex == "F" ? "checked" : "" %> >
    <label for="female">Female</label>
    <br>
    <br>

    <select id="cat_color" name="cat[color]">
        <option disabled>-- Select a color --</option>
        <% Cat::CAT_COLORS.each do |color| %>
            <option
                value=<%= "#{color}" %>
                <%= cat.color == color ? "selected" : "" %>>
                    <%= color %>
            </option>
        <% end %>
    </select>
    <br>
    <br>

    <label for="cat_birth_date">Birth date</label><br>
    <input
        id="cat_birth_date"
        type="date"
        name=cat[birth_date]
        value="<%= cat.birth_date %>">
    <br>
    <br>
    
    <label for="cat_description">Description</label><br>
    <textarea id="cat_description" name=cat[description]><%= cat.description %></textarea>
    <br>
    <br>

    <% submit_value = (cat.persisted? ? "Update cat" : "Add new cat") %>
    <input type="submit" value="<%= submit_value %>">
</form>

<br>
<a href="<%= cats_url %>">Back</a>
